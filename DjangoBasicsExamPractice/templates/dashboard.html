{% extends 'base.html' %}
{% block content %}

      <main>
        <!-- Dashboard page -->
          {% if posts %}

        <!-- Display a heading if there are posts -->
        <h2>Published Posts</h2>
            
        <!-- Display a heading if there are NO posts -->


        <section id="dashboard">
          <!-- Display a div with information about each post (if any) -->
            {% for post in posts %}
          <!-- first post -->
          <div class="post">
            <!-- post image -->
            <img
              src="{{ post.image_url }}"
              alt="My cool fluffy rabbits img"
            />
            <!-- post title -->
            <h3 class="title">{{ post.title }}</h3>
            <!-- post content -->
            <p class="description">{% with post.content.split|slice:":3" as content_preview %}
                            {{ content_preview|join:" " }}
                            {% if post.content|length > content_preview|join:" "|length %}...{% endif %}
                        {% endwith %}</p>
            <!-- post details button -->
            <a class="details-btn" href="{% url 'details-view' post.pk %}">See More</a>
          </div>
              {% endfor %}
        {% else %}
            <h2>No published posts yet.</h2>
        {% endif %}
        </section>
      </main>
{% endblock %}